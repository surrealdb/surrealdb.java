[package]
name = "surrealdb"
version = "3.0.0"
authors = ["Emmanuel Keller <emmanuel.keller@surrealdb.com>"]
edition = "2021"

[lib]
crate-type = ["cdylib"]
path = "src/main/rust/lib.rs"

[profile.release]
opt-level = 3

[dependencies]
jni = "0.21.1"
#surrealdb = {path = "../surrealdb/crates/sdk"}
#surrealdb = "3.0.0-alpha.11"
surrealdb = { git = "https://github.com/surrealdb/surrealdb.git", branch = "emmanuel/surrealdb.java", default-features = false }
serde = "1.0.218"
rust_decimal = "1.39.0"
tokio = "1.48.0"
parking_lot = "0.12.5"
once_cell = "1.21.3"
chrono = "0.4.42"
dashmap = "6.1.0"

[features]
default = ["rustls", "kv-mem", "kv-surrealkv", "protocol-ws", "protocol-http", "http", "jwks"]
rustls = ["surrealdb/rustls"]
jwks = ["surrealdb/jwks"]
http = ["surrealdb/http"]
kv-mem = ["surrealdb/kv-mem"]
kv-surrealkv = ["surrealdb/kv-surrealkv"]
protocol-ws = ["surrealdb/protocol-ws"]
protocol-http = ["surrealdb/protocol-http"]